name: Generate Doxygen Documentation

on:
  push:
    branches:
      - main  # Trigger workflow on push to main branch

jobs:
  build-docs:
    runs-on: ubuntu-latest  # Use the latest Ubuntu environment

    steps:
    - name: Checkout repository
      uses: actions/checkout@v3  # Check out the repository to the runner

    - name: Set up Doxygen
      run: sudo apt-get update && sudo apt-get install -y doxygen  # Install Doxygen

    - name: Generate Doxygen Documentation
      run: doxygen portfolio/doxygen/Doxyfile  # Generate documentation using the Doxyfile

    - name: Deploy documentation to GitHub Pages
      uses: peaceiris/actions-gh-pages@v3  # GitHub Action for deploying to GitHub Pages
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}  # GitHub token for authentication
        publish_dir: portfolio/doxygen/documentation  # Directory where HTML documentation is generated
